import{u as L,a as Q,b as S,c as M,Q as P,d as R,e as B,f as V,g as E}from"./map-store.364d79fd.js";import{u as $,a as q}from"./Ripple.4f23e9d9.js";import{B as b,f as x,w as y,s as F,C as A,d as D,D as I,r as g,o as N,E as v,b as u,G as d,H as c,I as m,x as l,J as z,A as _,c as H,K as j,F as G,l as J}from"./index.dbd9e38d.js";import{h as K}from"./render.dcc1b290.js";import{u as U}from"./use-quasar.3a2f32a0.js";import{a as O,g as W}from"./axios.550750e4.js";var h=b({name:"QRouteTab",props:{...$,...L},emits:Q,setup(t,{slots:o,emit:e}){const s=q({useDisableForRouterLinkProps:!1}),{renderTab:r,$tabs:n}=S(t,o,e,{exact:x(()=>t.exact),...s});return y(()=>`${t.name} | ${t.exact} | ${(s.resolvedLink.value||{}).href}`,()=>{n.verifyRouteModel()}),()=>r(s.linkTag.value,s.linkAttrs.value)}}),X=b({name:"QToolbar",props:{inset:Boolean},setup(t,{slots:o}){const e=x(()=>"q-toolbar row no-wrap items-center"+(t.inset===!0?" q-toolbar--inset":""));return()=>F("div",{class:e.value,role:"toolbar"},K(o.default))}});const Y={style:{"min-height":"50px"},class:""},Z=["src"],ee=D({__name:"MainLayout",setup(t){const o=I(),e=M(),s=U(),r=g(o.name),n=g("/atlas/logo_atlas.png"),p=g(s.screen.width<=400),k=async()=>{const a=await W.get("/v2/geoapps");e.geoStories=a.data.geoapps},w=()=>{p.value=s.screen.width<=400};return N(()=>{window.addEventListener("resize",w),e.geoStories.length===0&&k(),e.localConfig||O.get("/atlas/localConfig.json").then(a=>{console.log("localConfig",a.data),e.localConfig=a.data,n.value=e.localConfig.publicPath+e.localConfig.logo_filename,console.log("logoPath",n.value)}).catch(a=>{console.error("Error getting localConfig",a),e.localConfig={publicPath:"/atlas/",logo_filename:"logo_atlas.png",estados_alternate:"geonode:estados_inegi",estados_style:"contorno_estados"}})}),y(()=>o.path,a=>{console.log("selectedTab",r.value),console.log("route.name",o.path),console.log("path",a)}),(a,f)=>{const C=v("router-link"),T=v("router-view");return u(),d(P,{view:"lHh Lpr lFf",style:{"margin-top":"14px","margin-bottom":"-162px"}},{default:c(()=>[m("div",Y,[l(X,null,{default:c(()=>[l(C,{to:"/mapa"},{default:c(()=>[m("img",{src:n.value,height:"50",style:{"margin-left":"-12px"}},null,8,Z)]),_:1}),l(R),m("div",{class:z({"q-gutter-y-md":p.value,"max-width-250":p.value,"more-width-250":!p.value})},[_(e).geoStories.length?(u(),d(B,{key:0,modelValue:r.value,"onUpdate:modelValue":f[0]||(f[0]=i=>r.value=i),style:{"margin-right":"-12px"},"no-caps":"","outside-arrows":"","active-color":"primary","indicator-color":"primary",class:"text-grey-10"},{default:c(()=>[l(h,{to:"/mapa",label:"Mapa",exact:""}),(u(!0),H(G,null,j(_(e).geoStories,i=>(u(),d(h,{key:i.pk,to:"/v/"+i.pk,exact:"",label:i.title},null,8,["to","label"]))),128))]),_:1},8,["modelValue"])):J("",!0)],2)]),_:1})]),l(V),l(E,null,{default:c(()=>[(u(),d(T,{key:_(o).path}))]),_:1})]),_:1})}}});var ne=A(ee,[["__scopeId","data-v-2e805ee8"]]);export{ne as default};
